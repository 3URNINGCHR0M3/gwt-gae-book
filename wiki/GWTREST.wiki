#summary Building a REST GWT client

= Goals =
 * support JSON-only APIs
 * support custom headers for each call (use cases: Authorization, pagination, XSRF...), media type
 * caching, batching, centralized failure handling, undo/redo and XSRF protection, get request status, cancel request, similar to [http://code.google.com/p/gwt-platform/wiki/GettingStartedDispatch gwtp dispatch]
 * support binary fields / multipart requests (e.g. [http://twitpic.com/api.do uploading a file])


To perform a call, client should do just

{{{
dispatcher.execute(method, URL, headers, mediatype, new GetShowsAction(inVar1, inVar2), new Callback(
   onSuccess(GetShowsResult result) {
      callMethod(result.outVar1, result.outVar2);
   })
);

@GenRESTModel
class GetShowsAction {
   String inVar1;
   Show inVar2;
};

@GenRESTModel
class GetShowsResult {
   String outVar1;
   Show outVar2;
};

@GenRESTModel
class Show {
   String name;
}

}}}


= TODO =
 * include [http://code.google.com/p/piriti/source/browse/trunk/restlet/src/main/java/name/pehl/piriti/restlet/client/UrlBuilder.java UrlBuilder] in guava ? 
 * Automatically handle registering action handlers, somehow?
  * remove the need for !LocationsHandlerRegistry  

= Details =

 * [http://code.google.com/p/gwt-platform/issues/detail?id=179 RequestBuilder] or [http://code.google.com/p/tire-d8/source/browse/trunk/app/src/main/java/name/pehl/tire/client/dispatch/AbstractRestletClientActionHandler.java Restlet] implementation?

 * how to login using openid?

= References =
http://code.google.com/p/google-web-toolkit/wiki/AutoBean


http://google-web-toolkit.googlecode.com/svn/javadoc/2.1/com/google/gwt/http/client/RequestBuilder.html


http://code.google.com/p/piriti/

http://code.google.com/p/gwt-platform/issues/detail?id=179